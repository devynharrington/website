{{/* layouts/shortcodes/recent-articles.html */}}

{{ $limit := (.Get "limit" | default "3" | int) }}

{{/* Grab the newest regular pages. Optionally filter to specific sections if you want later. */}}
{{ $pages := where site.RegularPages "Type" "in" (slice "vcf" "posts" "blog" "academics" "journey" "military") }}
{{ if eq (len $pages) 0 }}
  {{ $pages = site.RegularPages }}
{{ end }}

{{ $pages = first $limit (sort $pages "Date" "desc") }}

<div style="max-width:900px; margin:0 auto;">
  {{ range $pages }}
    <div style="padding:14px 0; border-bottom:1px solid rgba(255,255,255,0.10);">
      <a href="{{ .RelPermalink }}" style="font-size:1.05rem; font-weight:600; text-decoration:none;">
        {{ .Title }}
      </a>
      {{ with .Params.description }}
        <div style="opacity:0.85; margin-top:6px;">
          {{ . }}
        </div>
      {{ else }}
        {{ with .Summary }}
          <div style="opacity:0.85; margin-top:6px;">
            {{ . | plainify }}
          </div>
        {{ end }}
      {{ end }}
    </div>
  {{ end }}
</div>